/**
 * 
 */
package gvprojects.chess.model;

/**
 * @author Justin Rohr
 * 
 */
public class Pawn extends ChessPiece {

	private boolean firstMove = true;

	/**
	 * 
	 */
	public Pawn(Player p) {
		super(p, "Pawn");
	}

	// Backwards, Diagonal more than 2,
	@Override
	public boolean isValidMove(Move m, IChessPiece[][] p) {
		if (super.isValidMove(m, p) == false)
			return false;
		else if (firstMove == true && checkDistance(m, 2) == false
				|| firstMove == false && checkDistance(m, 1))
			return false;
		else if (m.fromColumn != m.toColumn && m.fromRow != m.toRow) {
			if (p[m.toRow][m.toColumn] == this
					|| p[m.toRow][m.toColumn] == null)
				return false;
		} else if (m.fromColumn != m.toColumn)
			return false;
		else if (firstMove == true && checkRandC(m, p) == false)
			return false;
		 else if (this.player() == Player.WHITE && this.toString() == "Pawn"){
		 if (m.toRow > m.fromRow)
		 return false;
		 }else if (this.player() == Player.BLACK)
		 if (m.toRow < m.toRow)
		// return false;
		firstMove = false;
		return true;
	}
}
